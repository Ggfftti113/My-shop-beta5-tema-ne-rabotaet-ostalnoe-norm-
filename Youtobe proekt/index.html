<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shop</title>

  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="components/Header/Header.css">
  <link rel="stylesheet" href="components/Products/Products.css">
  <link rel="stylesheet" href="components/Shopping/Shopping.css">
  <link rel="stylesheet" href="components/Favorites/Favorites.css">
  <link rel="stylesheet" href="components/Profile/Profile.css">
  <link rel="stylesheet" href="components/Footer/Footer.css">
</head>
<body>

  <div id="header"></div>
  <div id="spa-view"></div>
  <div id="footer"></div>

  <!-- constants & utils -->
  <script src="constants/catalog.js"></script>
<script src="constants/root.js"></script>
<script src="utils/localStorageUtil.js"></script>

  <!-- components -->
  <script src="components/Header/Header.js"></script>
<script src="components/Products/Products.js"></script>
<script src="components/Shopping/Shopping.js"></script>
<script src="components/Favorites/Favorites.js"></script>
<script src="components/Profile/Profile.js"></script>
<script src="components/Footer/Footer.js"></script>

  <!-- SPA navigation -->
  <script>
    const pages = {
      home: `<div class="page card"><h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1><p>–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞.</p></div>`,
      catalog: `<div id="products-root"></div>`,
      favorites: `<div id="favorites-root"></div>`,
      profile: `<div id="profile-root"></div>`,
      cart: `<div id="shopping-root"></div>`
    };

    function renderPage(page){
      const container = document.getElementById('spa-view');
      container.className = 'page-enter';
      setTimeout(() => {
        container.innerHTML = pages[page] || pages.home;

        // after HTML inserted, call component renders
        if(page === 'catalog') productsPage.render();
        if(page === 'cart') shoppingPage.render();
        if(page === 'favorites') favoritesPage.render();
        if(page === 'profile') profilePage.render();

        headerPage.render(); // refresh header (counter etc)
        container.className = 'page-enter-active';
      }, 80);
    }

    // start: show catalog by default
    renderPage('catalog');
  </script>

<script src="utils/theme.js"></script>

<div onclick="toggleTheme()" class="theme-btn">üåì</div>

</body>
</html>
